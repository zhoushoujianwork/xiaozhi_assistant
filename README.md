# å°æ™ºè¯­éŸ³åŠ©æ‰‹ (XiaoZhi Assistant)

[![License: GPL v3](https://img.shields.io/badge/License-GPLv3-blue.svg)](https://www.gnu.org/licenses/gpl-3.0)
[![Platform](https://img.shields.io/badge/Platform-K230%20RISC--V-green.svg)](https://www.canaan-creative.com/)
[![Build Status](https://img.shields.io/badge/Build-Passing-brightgreen.svg)]()

## é¡¹ç›®æ¦‚è¿°

å°æ™ºè¯­éŸ³åŠ©æ‰‹æ˜¯ä¸€ä¸ªæ·±åº¦ä¼˜åŒ–çš„åµŒå…¥å¼è¯­éŸ³äº¤äº’ç³»ç»Ÿï¼Œä¸“ä¸º**å˜‰æ¥ K230å¼€å‘æ¿**è®¾è®¡ã€‚é¡¹ç›®åŸºäº[78/xiaozhi-esp32](https://github.com/78/xiaozhi-esp32)è¿›è¡ŒåŠŸèƒ½è¿ç§»å’Œé€‚é…ï¼Œèåˆæœ¬åœ°AIèƒ½åŠ›ä¸äº‘ç«¯æœåŠ¡ï¼Œæä¾›è‡ªç„¶æµç•…çš„è¯­éŸ³äº¤äº’ä½“éªŒã€‚

### ğŸš€ æŠ€æœ¯äº®ç‚¹

- ğŸ™ï¸ **åŒé‡å”¤é†’æœºåˆ¶**ï¼šé›†æˆK230æœ¬åœ°è¯­éŸ³å”¤é†’+äººè„¸è¯†åˆ«å”¤é†’
- ğŸ–¥ï¸ **é«˜æ€§èƒ½GUI**ï¼šé‡‡ç”¨LVGLæ„å»ºä½å»¶è¿Ÿè§¦æ§ç•Œé¢  
- ğŸŒ **æ··åˆæ¶æ„**ï¼šæœ¬åœ°AIå¤„ç†+äº‘ç«¯æœåŠ¡ååŒ
- ğŸ”Š **ä¸“ä¸šçº§TTS**ï¼šé›†æˆè®¯é£æ˜Ÿç«è¯­éŸ³åˆæˆæœåŠ¡
- ğŸ”§ **æ¨¡å—åŒ–è®¾è®¡**ï¼šæ”¯æŒç‹¬ç«‹ç¼–è¯‘å’Œéƒ¨ç½²
- ğŸ“± **è§¦æ§äº¤äº’**ï¼šå®Œæ•´çš„äººè„¸ç®¡ç†ç•Œé¢

### ğŸ“‹ ç³»ç»Ÿè¦æ±‚

- **ç¡¬ä»¶å¹³å°**ï¼šå˜‰æ¥ K230å¼€å‘æ¿
- **æ“ä½œç³»ç»Ÿ**ï¼šLinux (RISC-V 64ä½)
- **äº¤å‰ç¼–è¯‘å·¥å…·é“¾**ï¼šXuantie-900-gcc-linux-6.6.0
- **ä¾èµ–åº“**ï¼šLVGL, OpenCV, ALSA, Boost, WebSocketPP

### ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®éµå¾ª **GPL V3 å¼€æºåè®®**ï¼Œç¡®ä¿ä»£ç å¼€æ”¾æ€§ä¸å¯å¤ç”¨æ€§ã€‚

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### ğŸ™ï¸ è¯­éŸ³äº¤äº’æ¨¡å—
- **å®æ—¶æ•°æ®ä¼ è¾“**ï¼šé€šè¿‡WebSocketåè®®ä¸æœåŠ¡å™¨è¿›è¡ŒäºŒè¿›åˆ¶OpuséŸ³é¢‘æ•°æ®åŠJSONæ–‡æœ¬æ¶ˆæ¯çš„å®æ—¶ä¼ è¾“
- **è¯­éŸ³æŒ‡ä»¤å¤„ç†**ï¼šæ”¯æŒè¯­éŸ³æŒ‡ä»¤è§£æã€å“åº”ç”ŸæˆåŠå¤šè½®å¯¹è¯é€»è¾‘
- **æœ¬åœ°è¯­éŸ³å”¤é†’**ï¼šåˆ©ç”¨K230å¼€å‘æ¿å®ç°æœ¬åœ°è¯­éŸ³å”¤é†’åŠŸèƒ½ï¼Œæ”¯æŒè‡ªå®šä¹‰å”¤é†’è¯
- **è¯­éŸ³åˆæˆ**ï¼šé›†æˆè®¯é£æ˜Ÿç«è¯­éŸ³åˆæˆæŠ€æœ¯ï¼Œæä¾›è‡ªç„¶æµç•…çš„è¯­éŸ³è¾“å‡º

### ğŸ” è®¾å¤‡æ¿€æ´»æ¨¡å—  
- **HTTPåè®®æ¿€æ´»**ï¼šåŸºäºHTTPåè®®å®ç°è®¾å¤‡æ¿€æ´»ï¼Œæ”¯æŒJSONæ ¼å¼çš„æ¿€æ´»çŠ¶æ€ç®¡ç†
- **è®¾å¤‡è®¤è¯**ï¼šç¡®ä¿è®¾å¤‡èƒ½å¤Ÿå®‰å…¨æ¥å…¥äº‘ç«¯æœåŠ¡ç³»ç»Ÿ

### ğŸ‘¤ äººè„¸è¯†åˆ«å”¤é†’æ¨¡å—
- **å®æ—¶è¯†åˆ«**ï¼šåˆ©ç”¨K230å¼€å‘æ¿çš„AIç®—åŠ›ï¼Œå®ç°å®æ—¶äººè„¸è¯†åˆ«åŠŸèƒ½
- **æ™ºèƒ½å”¤é†’**ï¼šå½“è¯†åˆ«åˆ°å·²æ³¨å†Œçš„äººè„¸æ—¶ï¼Œè‡ªåŠ¨å”¤é†’è¯­éŸ³åŠ©æ‰‹
- **äººè„¸ç®¡ç†**ï¼šæ”¯æŒäººè„¸æ³¨å†Œã€è¯†åˆ«ã€åˆ é™¤ç­‰å®Œæ•´ç®¡ç†åŠŸèƒ½

### ğŸ–¥ï¸ ç”¨æˆ·ç•Œé¢æ¨¡å—
- **LVGLå›¾å½¢åº“**ï¼šé›†æˆLVGLå›¾å½¢åº“ï¼Œæä¾›æµç•…çš„è§¦æ§äº¤äº’ç•Œé¢
- **äººè„¸ç®¡ç†ç•Œé¢**ï¼šæä¾›æ³¨å†Œ/è¯†åˆ«/åˆ é™¤ä¸€ä½“åŒ–çš„äººè„¸ç®¡ç†ç•Œé¢
- **çŠ¶æ€æ˜¾ç¤º**ï¼šå®æ—¶æ˜¾ç¤ºç³»ç»ŸçŠ¶æ€å’Œäº¤äº’åé¦ˆ

## ğŸ“ é¡¹ç›®ç»“æ„

```
xiaozhi_assistant/
â”œâ”€â”€ src/                          # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ ui_and_ai/               # UIå’ŒAIæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ src/                 # æ ¸å¿ƒæºä»£ç 
â”‚   â”‚   â”‚   â”œâ”€â”€ main.cc          # ä¸»ç¨‹åºå…¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ lvgl_ui.cc       # LVGLç•Œé¢å®ç°
â”‚   â”‚   â”‚   â”œâ”€â”€ face_*.cc        # äººè„¸è¯†åˆ«ç›¸å…³
â”‚   â”‚   â”‚   â”œâ”€â”€ kws.cc           # å…³é”®è¯æ£€æµ‹
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ utils/               # å·¥å…·å’Œèµ„æºæ–‡ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ *.kmodel         # AIæ¨¡å‹æ–‡ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ *.ttf            # å­—ä½“æ–‡ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ run.sh           # è¿è¡Œè„šæœ¬
â”‚   â”‚   â””â”€â”€ CMakeLists.txt       # æ„å»ºé…ç½®
â”‚   â”œâ”€â”€ xiaozhi_client/          # è¯­éŸ³å®¢æˆ·ç«¯æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ main.cc              # å®¢æˆ·ç«¯ä¸»ç¨‹åº
â”‚   â”‚   â”œâ”€â”€ websocket_client.cc  # WebSocketå®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ snd_core/            # éŸ³é¢‘å¤„ç†æ ¸å¿ƒ
â”‚   â”‚   â””â”€â”€ CMakeLists.txt       # æ„å»ºé…ç½®
â”‚   â””â”€â”€ common/                  # å…¬å…±ä»£ç 
â”‚       â”œâ”€â”€ ipc_udp.cc           # IPCé€šä¿¡
â”‚       â””â”€â”€ json.hpp             # JSONå¤„ç†
â”œâ”€â”€ build.sh                     # æ„å»ºè„šæœ¬
â”œâ”€â”€ README.md                    # é¡¹ç›®æ–‡æ¡£
â””â”€â”€ k230_bin/                    # ç¼–è¯‘è¾“å‡ºç›®å½•
    â”œâ”€â”€ ui_and_ai                # UIå¯æ‰§è¡Œæ–‡ä»¶
    â”œâ”€â”€ xiaozhi_client           # å®¢æˆ·ç«¯å¯æ‰§è¡Œæ–‡ä»¶
    â””â”€â”€ run.sh                   # è¿è¡Œè„šæœ¬
```

## âš–ï¸ ç‰ˆæƒå£°æ˜

### ä¸»è¦ç‰ˆæƒæ–¹
- **Canaan Bright Sight Co., Ltd** (2025)
- **æ·±åœ³ç™¾é—®ç½‘ç§‘æŠ€æœ‰é™å…¬å¸ (100askTeam)** (2008-2023)

### å¼€æºåè®®
- æœ¬é¡¹ç›®éµå¾ª **GPL V3 å¼€æºåè®®**
- ç¬¬ä¸‰æ–¹åº“éµå¾ªå„è‡ªè®¸å¯åè®®ï¼ˆLVGLã€Boostç­‰ï¼‰
- å•†ä¸šä½¿ç”¨éœ€éµå¾ªGPLåè®®è¦æ±‚

## ğŸ› ï¸ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒå‡†å¤‡

1. **å®‰è£…äº¤å‰ç¼–è¯‘å·¥å…·é“¾**
   ```bash
   # ä¸‹è½½å¹¶å®‰è£… Xuantie-900 å·¥å…·é“¾
   wget https://github.com/T-head-Semi/xuantie-gnu-toolchain/releases/download/v3.0.2/Xuantie-900-gcc-linux-6.6.0-glibc-x86_64-V3.0.2.tar.gz
   tar -xzf Xuantie-900-gcc-linux-6.6.0-glibc-x86_64-V3.0.2.tar.gz
   sudo mv Xuantie-900-gcc-linux-6.6.0-glibc-x86_64-V3.0.2 /opt/toolchain/
   ```

2. **å®‰è£…ä¾èµ–åº“**
   ```bash
   # Ubuntu/Debian
   sudo apt-get install cmake build-essential libasound2-dev libdrm-dev
   
   # CentOS/RHEL
   sudo yum install cmake gcc-c++ alsa-lib-devel libdrm-devel
   ```

### ç¼–è¯‘é¡¹ç›®

1. **å…‹éš†é¡¹ç›®**
   ```bash
   git clone https://github.com/yourusername/xiaozhi_assistant.git
   cd xiaozhi_assistant
   ```

2. **ç¼–è¯‘é¡¹ç›®**
   ```bash
   # èµ‹äºˆæ‰§è¡Œæƒé™
   chmod +x build.sh
   
   # å¼€å§‹ç¼–è¯‘
   ./build.sh
   ```

3. **ç¼–è¯‘è¾“å‡º**
   ç¼–è¯‘å®Œæˆåï¼Œåœ¨ `k230_bin/` ç›®å½•ä¸‹ä¼šç”Ÿæˆï¼š
   - `ui_and_ai` - UIå’ŒAIæ¨¡å—å¯æ‰§è¡Œæ–‡ä»¶
   - `xiaozhi_client` - è¯­éŸ³å®¢æˆ·ç«¯å¯æ‰§è¡Œæ–‡ä»¶
   - `run.sh` - è¿è¡Œè„šæœ¬
   - ç›¸å…³èµ„æºæ–‡ä»¶ï¼ˆæ¨¡å‹ã€å­—ä½“ç­‰ï¼‰

### éƒ¨ç½²åˆ°å¼€å‘æ¿

1. **ä¼ è¾“æ–‡ä»¶åˆ°å¼€å‘æ¿**
   ```bash
   # ä½¿ç”¨ scp ä¼ è¾“æ•´ä¸ª k230_bin ç›®å½•
   scp -r k230_bin/ root@<å¼€å‘æ¿IP>:/home/root/
   ```

2. **åœ¨å¼€å‘æ¿ä¸Šè¿è¡Œ**
   ```bash
   # SSH ç™»å½•å¼€å‘æ¿
   ssh root@<å¼€å‘æ¿IP>
   
   # è¿›å…¥é¡¹ç›®ç›®å½•
   cd /home/root/k230_bin
   
   # èµ‹äºˆæ‰§è¡Œæƒé™
   chmod +x run.sh ui_and_ai xiaozhi_client
   
   # è¿è¡Œé¡¹ç›®
   ./run.sh
   ```

### è¿è¡Œæ¨¡å¼

é¡¹ç›®æ”¯æŒå¤šç§è¿è¡Œæ¨¡å¼ï¼š

```bash
# è‡ªåŠ¨è¯­éŸ³äº¤äº’æ¨¡å¼
./xiaozhi_client auto

# æ‰‹åŠ¨è¯­éŸ³äº¤äº’æ¨¡å¼  
./xiaozhi_client manual

# å®æ—¶è¯­éŸ³äº¤äº’æ¨¡å¼
./xiaozhi_client realtime

# å”¤é†’è¯æ¨¡å¼
./xiaozhi_client wakeup
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

### å¦‚ä½•è´¡çŒ®
1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

### å¼€å‘è§„èŒƒ
- éµå¾ªç°æœ‰ä»£ç é£æ ¼
- æ·»åŠ é€‚å½“çš„æ³¨é‡Šå’Œæ–‡æ¡£
- ç¡®ä¿ä»£ç é€šè¿‡ç¼–è¯‘æµ‹è¯•
- æäº¤ä¿¡æ¯ä½¿ç”¨æ¸…æ™°çš„æè¿°

## ğŸ“ æ”¯æŒä¸è”ç³»

- **é—®é¢˜åé¦ˆ**: [GitHub Issues](https://github.com/yourusername/xiaozhi_assistant/issues)
- **è®¨è®ºäº¤æµ**: [GitHub Discussions](https://github.com/yourusername/xiaozhi_assistant/discussions)
- **æ–‡æ¡£**: [é¡¹ç›®Wiki](https://github.com/yourusername/xiaozhi_assistant/wiki)

## ğŸ™ è‡´è°¢

### ç‰¹åˆ«æ„Ÿè°¢
- **100askTeam** - æä¾›ä¼˜ç§€çš„åµŒå…¥å¼ç³»ç»Ÿæ•™å­¦èµ„æºå’Œå¼€æºä»£ç 
- **Canaan Technology** - æä¾›K230å¼€å‘æ¿ç¡¬ä»¶æ”¯æŒ
- **LVGL Community** - æä¾›ä¼˜ç§€çš„å›¾å½¢åº“æ”¯æŒ
- **å¼€æºç¤¾åŒº** - æ‰€æœ‰è´¡çŒ®è€…å’Œç”¨æˆ·çš„æ”¯æŒ

### ç›¸å…³é¡¹ç›®
- [78/xiaozhi-esp32](https://github.com/78/xiaozhi-esp32) - åŸå§‹ESP32ç‰ˆæœ¬
- [kendryte/k230_linux_sdk](https://github.com/kendryte/k230_linux_sdk) - K230 Linux SDK
- [LVGL/lvgl](https://github.com/lvgl/lvgl) - è½»é‡çº§å›¾å½¢åº“

---

<div align="center">

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª Starï¼â­**

Made with â¤ï¸ by the XiaoZhi Assistant Team

</div>
